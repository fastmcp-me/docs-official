---
title: LangChain and LangGraph
description: Learn about the Galileo LangChain and LangGraph integration
---

import SnippetLangChainBasicPython from "/snippets/code/python/sdk/wrappers/langchain.mdx";
import SnippetLangChainCustomLoggerPython from "/snippets/code/python/sdk/wrappers/langchain-custom-logger.mdx";
import SnippetLangChainAsyncPython from "/snippets/code/python/sdk/wrappers/langchain-async.mdx";
import SnippetLangChainChainsPython from "/snippets/code/python/sdk/wrappers/langchain-chains.mdx";
import SnippetLangChainMetadataPython from "/snippets/code/python/sdk/wrappers/langchain-metadata.mdx";

import SnippetLangChainBasicTypeScript from "/snippets/code/typescript/sdk/wrappers/langchain.mdx";
import SnippetLangChainCustomLoggerTypeScript from "/snippets/code/typescript/sdk/wrappers/langchain-custom-logger.mdx";
import SnippetLangChainChainsTypeScript from "/snippets/code/typescript/sdk/wrappers/langchain-chains.mdx";
import SnippetLangChainMetadataTypeScript from "/snippets/code/typescript/sdk/wrappers/langchain-metadata.mdx";

The Galileo LangChain integration allows you to automatically log all LangChain and LangGraph interactions with LLMs, including prompts, responses, and performance metrics. The Galileo SDK has a custom callback that is passed LangChain or LangGraph.

<CardGroup cols={2}>
<Card title="GalileoCallback - Python" icon="python" horizontal href="/sdk-api/python/reference/handlers/langchain/handler">
    The Python Galileo Synchronous LangChain SDK reference.
</Card>
<Card title="GalileoAsyncCallback - Python" icon="python" horizontal href="/sdk-api/python/reference/handlers/langchain/async_handler">
    The Python Galileo Asynchronous LangChain SDK reference.
</Card>
<Card title="GalileoCallback - TypeScript" icon="js" horizontal href="/sdk-api/typescript/reference/README/classes/GalileoCallback">
    The TypeScript Galileo LangChain SDK reference.
</Card>
</CardGroup>

## Basic Usage

The integration is based on the `GalileoCallback` class, which implements LangChain's callback interface. To use it, create an instance of the callback and pass it to your LangChain components:

<CodeGroup>
  <SnippetLangChainBasicPython />
  <SnippetLangChainBasicTypeScript />
</CodeGroup>

The `GalileoCallback` captures various LangChain events, including:

- LLM starts and completions
- Chat model interactions
- Chain executions
- Tool calls
- Retriever operations
- Agent actions

For each of these events, the callback logs relevant information to Galileo, such as:

- Input prompts and messages
- Output responses
- Model information
- Timing data
- Token usage
- Error information (if any)

The GalileoCallback automatically handles nested chains and agents, creating a hierarchical trace that reflects the structure of your LangChain application.

### Python Asynchronous Callbacks

In Python, there are separate callbacks for synchronous and asynchronous code. If you are using the asynchronous LangChain or LangGraph API, use the [`GalileoAsyncCallback` callback handler](/sdk-api/python/reference/handlers/langchain/async_handler).

<CodeGroup>
  <SnippetLangChainAsyncPython/>
</CodeGroup>

## Use a Custom Logger

When initializing the `GalileoCallback`, you can optionally specify a Galileo logger instance, or control trace behavior:

<CodeGroup>
  <SnippetLangChainCustomLoggerPython />
  <SnippetLangChainCustomLoggerTypeScript />
</CodeGroup>

This is particularly useful if you want to call your LangChain code from inside a function [decorated with the `log` decorator](/sdk-api/logging/log-decorator/log-decorator), or from inside an [experiment](/concepts/experiments/running-experiments#using-langchain-or-langgraph-in-an-experiment).

## Use with LangChain Chains

You can also use the callback with LangChain chains. Make sure to pass the callback to both the LLM and the chain.

<CodeGroup>
  <SnippetLangChainChainsPython />
  <SnippetLangChainChainsTypeScript />
</CodeGroup>

## Add Metadata

You can add custom metadata to your logs by including it in the `metadata` parameter of a LangChain runnable configuration when invoking a chain or LLM.

<CodeGroup>
  <SnippetLangChainMetadataPython />
  <SnippetLangChainMetadataTypeScript />
</CodeGroup>

This metadata will be attached to the logs in Galileo, making it easier to filter and analyze your data.

![A chain node in a trace with metadata attached](/sdk-api/third-party-integrations/langchain/metadata.webp)

## Best Practices

1. **Pass callbacks consistently**: Make sure to pass the callback to all LangChain components (LLMs, chains, agents, etc.) to ensure complete logging.
1. **Include meaningful metadata**: Add relevant metadata to your invocations to make it easier to filter and analyze your logs.

## Next steps

<CardGroup cols={2}>
<Card title="Galileo logger" icon="code" horizontal href="/sdk-api/logging/galileo-logger">
    Log with full control over sessions, traces, and spans using the Galileo logger.
</Card>
<Card title="Log decorator" icon="code" horizontal href="/sdk-api/logging/log-decorator/log-decorator">
    Quickly add logging to your code with the log decorator and wrapper.
</Card>
<Card title="Galileo context" icon="code" horizontal href="/sdk-api/logging/galileo-context">
    Manage logging using the Galileo context manager.
</Card>
</CardGroup>

<CardGroup cols={2}>
<Card title="Monitor LangChain Agents with Galileo" icon="code" horizontal href="/cookbooks/use-cases/agent-langchain">
    Learn how to build and monitor a LangChain AI Agent using Galileo for tracing and observability.
</Card>
<Card title="Add evaluations to a multi-agent LangGraph application" icon="code" horizontal href="/cookbooks/use-cases/multi-agent-langgraph/multi-agent-langgraph">
    Learn how to add evaluations to a multi-agent LangGraph chat bot using Galileo
</Card>
</CardGroup>
