```python python
# Get the logger from the current Galileo context
logger = galileo_context.get_logger_instance()

is_in_experiment = logger.current_parent() is not None

# Create the callback checking to see if we are in an experiment
# If we are, set start_new_trace and flush_on_chain_end to False
# so that the existing trace is used, and not flushed automatically
galileo_callback = GalileoAsyncCallback(
    logger,
    start_new_trace=not is_in_experiment,
    flush_on_chain_end=not is_in_experiment,
)
callbacks: Callbacks = [galileo_callback]
```
